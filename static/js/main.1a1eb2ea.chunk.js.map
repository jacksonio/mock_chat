{"version":3,"sources":["reportWebVitals.js","icons/index.js","components/Icon/index.js","components/Dialog/Item/index.js","components/Dialog/Title/index.js","components/Dialog/reducer.js","data.js","components/Dialog/index.js","components/Dialog/helpers.js","components/Sender/index.js","components/Header/UserInfo/index.js","context.js","components/Header/Theme/index.js","components/Header/LocaleChanger/index.js","components/Header/index.js","App.js","helpers/theme.js","i18n.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","MessageReaded","MessageSended","Icon","size","name","className","Array","width","height","icons","icon","viewBox","classNames","dangerouslySetInnerHTML","__html","Item","isReverse","isRemovable","messages","avatar","onRemove","onRemoveHandle","event","id","currentTarget","dataset","reverse","removable","src","alt","map","item","text","dayjs","date","format","status","data-id","onClick","extend","Calendar","Title","t","useTranslation","calendar","sameDay","lastWeek","sameElse","reducer","state","action","type","filter","message","payload","concat","Error","dialog","is","Dialog","newMessage","dialogRef","useRef","useReducer","data","dispatch","useEffect","setTimeout","current","scrollTop","scrollHeight","length","normalizedDialog","newDialog","forEach","i","diff","push","position","normalizeDialog","ref","key","Sender","setMessage","useState","value","setValue","onSubmit","preventDefault","Date","now","toISOString","onChange","e","target","placeholder","required","UserInfo","AppContext","createContext","Theme","useContext","theme","toggleTheme","data-theme","LocaleChanger","i18n","changeDictionaryHandler","lang","changeLanguage","role","aria-label","Header","App","addMessage","localStorage","getItem","setItem","document","body","classList","add","remove","setTheme","Provider","use","Backend","LangDetector","initReactI18next","init","fallbackLng","debug","backend","loadPath","detection","order","cache","WebFontLoader","load","google","families","ReactDOM","render","StrictMode","fallback","getElementById"],"mappings":"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","file":"static/js/main.1a1eb2ea.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const MessageReaded = [\n    `<path \n\t\td=\"M773.495 279.073l-61.528-61.528-276.876 276.876 61.528 61.528 276.876-276.876zM958.077 217.545l-461.46 465.855-184.584-184.584-61.528 61.528 246.112 246.112 527.383-527.383-65.923-61.528zM0 560.344l246.112 246.112 61.528-61.528-246.112-246.112-61.528 61.528z\"\n\t/>`,\n    \"0 0 1024 1024\",\n];\n\nexport const MessageSended = [\n    `<path \n\t\td=\"M958.077 217.545l-461.46 465.855-184.584-184.584-61.528 61.528 246.112 246.112 527.383-527.383-65.923-61.528zM0 560.344v0z\"\n\t/>`,\n    \"0 0 1024 1024\",\n];\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport * as icons from \"../../icons\";\n\nconst Icon = ({ size = 20, name, className = \"\" }) => {\n    const [width, height] = size instanceof Array ? size : [size, size];\n    const [icon, viewBox] = icons[name];\n\n    return (\n        <svg\n            className={classNames(\"icon\", className)}\n            width={width}\n            height={height}\n            dangerouslySetInnerHTML={{ __html: icon }}\n            viewBox={viewBox}\n        />\n    );\n};\n\nIcon.propTypes = {\n    size: PropTypes.number,\n    name: PropTypes.string.isRequired,\n    className: PropTypes.string,\n};\n\nexport default Icon;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport dayjs from \"dayjs\";\nimport { IoIosTrash } from \"react-icons/io\";\nimport Icon from \"../../Icon\";\n\nimport \"./styles.css\";\n\nconst Item = ({ isReverse, isRemovable, messages, avatar, onRemove }) => {\n    const onRemoveHandle = (event) => {\n        debugger\n        const { id } = event.currentTarget.dataset;\n        onRemove(+id);\n    };\n\n    return (\n        <div\n            className={classNames(\"item\", {\n                reverse: isReverse,\n                removable: isRemovable,\n            })}\n        >\n            <img src={avatar} className=\"avatar\" alt=\"Avatar\" />\n            <div className=\"list\">\n                {messages.map((item) => (\n                    <div className=\"list-item\" key={item.id}>\n                        <div className=\"text\">{item.text}</div>\n                        <div className=\"time\">{dayjs(item.date).format(\"HH:mm\")}</div>\n                        <Icon\n                            size={15}\n                            className=\"message-status\"\n                            name={\n                                item.status === \"sended\" ? \"MessageSended\" : \"MessageReaded\"\n                            }\n                        />\n                        <IoIosTrash\n                            data-id={item.id}\n                            size={18}\n                            className=\"remove-message\"\n                            onClick={onRemoveHandle}\n                        />\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nItem.propTypes = {\n    isReverse: PropTypes.bool.isRequired,\n    isRemovable: PropTypes.bool.isRequired,\n    avatar: PropTypes.string.isRequired,\n    messages: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            text: PropTypes.string.isRequired,\n            date: PropTypes.string.isRequired,\n            status: PropTypes.oneOf([\"sended\", \"readed\"]),\n        })\n    ).isRequired,\n    onRemove: PropTypes.func.isRequired,\n};\n\nexport default Item;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport Calendar from \"dayjs/plugin/calendar\";\nimport \"./styles.css\";\nimport {useTranslation} from \"react-i18next\";\n\ndayjs.extend(Calendar);\n\nconst Title = ({date}) => {\n\n    const {t} = useTranslation()\n\n    return (\n        <div className=\"title\">\n            {dayjs(date).calendar(null, {\n                sameDay: `[${t('sameday')}]`,\n                lastWeek: \"D/M\",\n                sameElse: \"D/M/YYYY\",\n            })}\n        </div>\n    )\n};\n\nTitle.propTypes = {\n    date: PropTypes.string.isRequired,\n};\n\nexport default Title;\n","export default function reducer(state, action) {\n    switch (action.type) {\n        case \"remove-message\":\n            return {\n                ...state,\n                messages: state.messages.filter(\n                    (message) => message.id !== action.payload\n                ),\n            };\n\n        case \"add-message\":\n            return {\n                ...state,\n                messages: state.messages.concat(action.payload),\n            };\n\n        case \"update-status\":\n            return {\n                ...state,\n                messages: state.messages.map((message) => {\n                    if (message.id === action.payload.id) {\n                        return {\n                            ...message,\n                            status: action.payload.status,\n                        };\n                    }\n\n                    return message;\n                }),\n            };\n\n        default:\n            throw new Error(\"Unknown action type\");\n    }\n}\n","const dialog = [\n    {\n        avatar:\n            \"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_1280.png\",\n        message: \"Привет\",\n        id: 0,\n        date: \"2020-10-11T10:09:04.712Z\",\n        is: \"her\",\n    },\n    {\n        avatar:\n            \"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_1280.png\",\n        message: \"Как дела?\",\n        id: 1,\n        date: \"2020-10-11T10:19:04.712Z\",\n        is: \"her\",\n    },\n    {\n        avatar:\n            \"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_1280.png\",\n        message: \"Я только приехал с Марса\",\n        id: 2,\n        date: \"2020-10-11T10:24:04.712Z\",\n        is: \"her\",\n    },\n    {\n        avatar:\n            \"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_1280.png\",\n        message: \"Привет! Все хорошо, ты как?\",\n        id: 3,\n        date: \"2020-10-11T11:09:04.712Z\",\n        status: \"sended\",\n        is: \"my\",\n    },\n    {\n        avatar:\n            \"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_1280.png\",\n        message: \"Ааа, да, я слышал\",\n        id: 4,\n        date: \"2020-10-11T12:09:04.712Z\",\n        status: \"sended\",\n        is: \"my\",\n    },\n    {\n        avatar:\n            \"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_1280.png\",\n        message: \"Круто\",\n        id: 5,\n        date: \"2020-10-11T13:01:04.712Z\",\n        status: \"readed\",\n        is: \"my\",\n    },\n    {\n        avatar:\n            \"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_1280.png\",\n        message: \"Полет нормальный?\",\n        id: 6,\n        date: \"2020-10-11T14:09:07.712Z\",\n        status: \"readed\",\n        is: \"my\",\n    },\n    {\n        avatar:\n            \"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_1280.png\",\n        message: \"Да, все круто. Только никому не говори)\",\n        id: 7,\n        date: \"2020-10-11T15:09:04.712Z\",\n        is: \"her\",\n    },\n];\n\nexport default dialog;\n","import React, { useReducer, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Item from \"./Item\";\nimport Title from \"./Title\";\n\nimport { normalizeDialog } from \"./helpers\";\nimport reducer from \"./reducer\";\nimport data from \"../../data\";\n\nimport \"./styles.css\";\n\nconst Dialog = ({ newMessage }) => {\n    const dialogRef = useRef();\n    const [state, dispatch] = useReducer(reducer, {\n        messages: data,\n    });\n\n    useEffect(() => {\n        if (newMessage) {\n            dispatch({\n                type: \"add-message\",\n                payload: newMessage,\n            });\n\n            setTimeout(() => {\n                dispatch({\n                    type: \"update-status\",\n                    payload: {\n                        id: newMessage.id,\n                        status: \"readed\",\n                    },\n                });\n            }, 1000);\n        }\n    }, [newMessage]);\n\n    useEffect(() => {\n        dialogRef.current.scrollTop = dialogRef.current.scrollHeight;\n    }, [state.messages.length]);\n\n    const onRemove = (id) => {\n        dispatch({\n            type: \"remove-message\",\n            payload: id,\n        });\n    };\n\n    const normalizedDialog = normalizeDialog(state.messages);\n\n    return (\n        <div className=\"dialog\">\n            <div className=\"overflow\" ref={dialogRef}>\n                {normalizedDialog.map((item) =>\n                    item.type === \"message\" ? (\n                        <Item {...item} key={item.id} onRemove={onRemove} />\n                    ) : (\n                        <Title key={item.id} date={item.date} />\n                    )\n                )}\n            </div>\n        </div>\n    );\n};\n\nDialog.propTypes = {\n    newMessage: PropTypes.shape({\n        id: PropTypes.number,\n    }),\n};\n\nexport default Dialog;\n","import dayjs from \"dayjs\";\n\nexport const normalizeDialog = (dialog) => {\n    const newDialog = [];\n\n    dialog.forEach((item, i) => {\n        if (i === 0 || dialog[i - 1]) {\n            const first = dayjs((i === 0 ? item : dialog[i - 1]).date);\n            const diff = first.diff(item.date, \"day\");\n\n            if (i === 0 || diff) {\n                newDialog.push({\n                    type: \"title\",\n                    id: `item-title-${item.id}`,\n                    date: item.date,\n                });\n            }\n        }\n\n        if (i === 0 || item.is !== dialog[i - 1].is) {\n            newDialog.push({\n                type: \"message\",\n                id: `item-message-${item.id}`,\n                avatar: item.avatar,\n                isReverse: item.is === \"my\",\n                isRemovable: item.is === \"my\",\n                messages: [\n                    {\n                        text: item.message,\n                        status: item.status,\n                        id: item.id,\n                        date: item.date,\n                    },\n                ],\n            });\n        } else {\n            const position = newDialog.length - 1;\n\n            newDialog[position] = {\n                ...newDialog[position],\n                messages: newDialog[position].messages.concat({\n                    text: item.message,\n                    status: item.status,\n                    id: item.id,\n                    date: item.date,\n                }),\n            };\n        }\n    });\n\n    return newDialog;\n};\n","import React, {useState} from \"react\";\nimport PropTypes from 'prop-types'\nimport './styles.css'\nimport {useTranslation} from \"react-i18next\";\n\nexport const Sender = ({setMessage}) => {\n    const [value, setValue] = useState('');\n\n    const {t} = useTranslation();\n\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n\n        setMessage({\n            id: Date.now(),\n            avatar:\n                \"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584_1280.png\",\n            message: value,\n            date: new Date().toISOString(),\n            is: \"my\",\n            status: \"sended\",\n        });\n        setValue(\"\");\n    };\n\n    return (\n        <form className={'sender'} onSubmit={onSubmit}>\n            <input\n                type=\"text\"\n                onChange={e => setValue(e.target.value)}\n                value={value}\n                placeholder={t('sendInputPlaceholder')}\n                required\n            />\n            <button type={'submit'}>{t('sendButtonText')}</button>\n        </form>\n    )\n}\n\nSender.propTypes = {\n    setMessage: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport './styles.css'\nimport {useTranslation} from \"react-i18next\";\n\n\nexport const UserInfo = () => {\n\n    const {t} = useTranslation()\n\n    return (\n        <div className={'user-info'}>\n            <div className={'name'}>Jack</div>\n            <div className={'status'}>\n                <span className={'circle'} />{t('isOnline')}\n            </div>\n        </div>\n    )\n}\n","import {createContext} from 'react'\n\n\nexport const AppContext = createContext()\n","import React, { useContext } from \"react\";\nimport { AppContext } from \"../../../context\";\nimport { IoIosMoon, IoIosSunny } from \"react-icons/io\";\nimport \"./styles.css\";\n\nconst Theme = () => {\n    const { theme, toggleTheme } = useContext(AppContext);\n\n    const onToggleTheme = (event) => {\n        const { theme } = event.currentTarget.dataset;\n        toggleTheme(theme);\n    };\n\n    return (\n        <div\n            className=\"theme\"\n            data-theme={theme === \"light\" ? \"dark\" : \"light\"}\n            onClick={onToggleTheme}\n        >\n            {theme === \"light\" ? (\n                <IoIosMoon size={20} className=\"dark\" />\n            ) : (\n                <IoIosSunny className=\"yellow\" size={20} />\n            )}\n        </div>\n    );\n};\n\nexport default Theme;\n","import React from 'react'\nimport './styles.css'\nimport {useTranslation} from \"react-i18next\";\n\nexport const LocaleChanger = () => {\n    const {i18n} = useTranslation()\n\n\n    const changeDictionaryHandler = (lang) => {\n        i18n.changeLanguage(lang)\n    }\n\n\n    return (\n        <div>\n            <div className=\"btn-group btn-group-sm\" role=\"group\" aria-label=\"lang-changing\">\n                <button className={'btn btn-secondary shadow-none'} onClick={() => changeDictionaryHandler('ru')}>RU</button>\n                <button className={'btn btn-secondary shadow-none'} onClick={() => changeDictionaryHandler('en')}>ENG</button>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\";\nimport {UserInfo} from \"./UserInfo\";\nimport './styles.css'\nimport Theme from \"./Theme\";\nimport {LocaleChanger} from \"./LocaleChanger\";\n\nexport const Header = () => {\n    return (\n        <div className={'header'}>\n            <LocaleChanger />\n            <UserInfo />\n            <Theme />\n        </div>\n    )\n}\n","import React, { useEffect, useState } from \"react\";\n\nimport Dialog from \"./components/Dialog\";\nimport {Sender} from \"./components/Sender\";\nimport {Header} from \"./components/Header\";\n\nimport { AppContext } from \"./context\";\nimport { getTheme, setTheme } from \"./helpers/theme\";\n\nconst App = () => {\n    const [message, addMessage] = useState(null);\n    const [theme, toggleTheme] = useState(getTheme());\n\n    useEffect(() => {\n        setTheme(theme)\n    }, [theme])\n\n    return (\n        <AppContext.Provider\n            value={{\n                theme,\n                toggleTheme,\n            }}\n        >\n            <div className=\"container\">\n                <Header />\n                <Dialog newMessage={message} />\n                <Sender setMessage={addMessage} />\n            </div>\n        </AppContext.Provider>\n    );\n};\n\nexport default App;\n","export const getTheme = () => {\n    return localStorage.getItem(\"application-theme\") || \"dark\";\n};\n\nexport const setTheme = (theme) => {\n    localStorage.setItem(\"application-theme\", theme);\n\n    if (theme === \"dark\") {\n        document.body.classList.add(\"dark\");\n        document.body.classList.remove(\"light\");\n    } else {\n        document.body.classList.add(\"light\");\n        document.body.classList.remove(\"dark\");\n    }\n};\n","import i18n from 'i18next'\nimport Backend from 'i18next-http-backend'\nimport LangDetector from 'i18next-browser-languagedetector'\nimport {initReactI18next} from \"react-i18next\";\n\ni18n\n    .use(Backend)\n    .use(LangDetector)\n    .use(initReactI18next)\n    .init({\n        fallbackLng: 'ru',\n        debug: false,\n        backend: {\n            loadPath: 'mock_chat/locales/{{lng}}/{{ns}}.json'\n        },\n        detection: {\n            order: ['queryString', 'cookie'],\n            cache: ['cookie']\n        },\n    })\n\n\nexport default i18n\n","import React, {Suspense}from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport App from \"./App\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/index.css'\nimport WebFontLoader from \"webfontloader\";\nimport dayjs from \"dayjs\";\nimport './i18n'\nimport \"dayjs/locale/ru\";\nimport \"dayjs/locale/en\"\n\n\nWebFontLoader.load({\n    google: {\n        families: [\"Open Sans:300,400,700\"],\n    },\n})\n\nReactDOM.render(\n  <React.StrictMode>\n      <Suspense fallback={<div>Loading...</div>}>\n          <App />\n      </Suspense>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}